

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.4. csup &mdash; BSDForen.de 1.0 Dokumentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="2.5. Distcc" href="distcc.txt.html" />
    <link rel="prev" title="2.3. BSDAdminScripts" href="bsdadminscripts.txt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> BSDForen.de
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../howto/howto_index.html">1. Howto</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="anwendungen_index.html">2. Anwendungen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="anwendungs-liste.txt.html">2.1. Anwendungs-Liste</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmp.txt.html">2.2. BMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="bsdadminscripts.txt.html">2.3. BSDAdminScripts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.4. csup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supfiles">2.4.1. Supfiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#server-auswahlen">2.4.2. Server auswählen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supfiles-bearbeiten">2.4.3. Supfiles Bearbeiten</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supfile-testen">2.4.4. Supfile Testen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-update">2.4.5. make update</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verweise">2.4.6. Verweise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="distcc.txt.html">2.5. Distcc</a></li>
<li class="toctree-l2"><a class="reference internal" href="eclipse.txt.html">2.6. Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="enlightenment.txt.html">2.7. Enlightenment</a></li>
<li class="toctree-l2"><a class="reference internal" href="firefox.txt.html">2.8. Firefox</a></li>
<li class="toctree-l2"><a class="reference internal" href="fluxbox.txt.html">2.9. Fluxbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="gimp.txt.html">2.10. Gimp</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitit.txt.html">2.11. gitit</a></li>
<li class="toctree-l2"><a class="reference internal" href="gkrellm.txt.html">2.12. GKrellM</a></li>
<li class="toctree-l2"><a class="reference internal" href="idesk.txt.html">2.13. IDesk</a></li>
<li class="toctree-l2"><a class="reference internal" href="inkscape.txt.html">2.14. Inkscape</a></li>
<li class="toctree-l2"><a class="reference internal" href="irssi.txt.html">2.15. Irssi</a></li>
<li class="toctree-l2"><a class="reference internal" href="k3b.txt.html">2.16. K3b</a></li>
<li class="toctree-l2"><a class="reference internal" href="libreoffice.txt.html">2.17. LibreOffice</a></li>
<li class="toctree-l2"><a class="reference internal" href="links.txt.html">2.18. Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpd.txt.html">2.19. Music Player Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpg123.txt.html">2.20. Mpg123</a></li>
<li class="toctree-l2"><a class="reference internal" href="mplayer.txt.html">2.21. mplayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="mutt.txt.html">2.22. Mutt</a></li>
<li class="toctree-l2"><a class="reference internal" href="openoffice.txt.html">2.23. OpenOffice</a></li>
<li class="toctree-l2"><a class="reference internal" href="pkg_cutleaves.txt.html">2.24. pkg_cutleaves</a></li>
<li class="toctree-l2"><a class="reference internal" href="plone.txt.html">2.25. Plone 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="portmaster.txt.html">2.26. Portmaster</a></li>
<li class="toctree-l2"><a class="reference internal" href="portsnap.txt.html">2.27. portsnap</a></li>
<li class="toctree-l2"><a class="reference internal" href="portupgrade.txt.html">2.28. portupgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="qemu.txt.html">2.29. Qemu</a></li>
<li class="toctree-l2"><a class="reference internal" href="rxvt-unicode.txt.html">2.30. RXVT-Unicode</a></li>
<li class="toctree-l2"><a class="reference internal" href="screen.txt.html">2.31. Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcsh.txt.html">2.32. TCSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="texlive.txt.html">2.33. TeX Live</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunar.txt.html">2.34. Thunar</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunderbird.txt.html">2.35. Thunderbird</a></li>
<li class="toctree-l2"><a class="reference internal" href="torsmo.txt.html">2.36. Torsmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="vim.txt.html">2.37. Vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="xfce4.txt.html">2.38. Xfce4</a></li>
<li class="toctree-l2"><a class="reference internal" href="xine.txt.html">2.39. Xine</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdf.txt.html">2.40. Xpdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspread.txt.html">2.41. Xspread</a></li>
<li class="toctree-l2"><a class="reference internal" href="zsh.txt.html">2.42. ZSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/hardware_index.html">3. Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spiele/spiele_index.html">4. Spiele</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freebsd/freebsd_index.html">5. FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openbsd/openbsd_index.html">6. OpenBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netbsd/netbsd_index.html">7. NetBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dragonflybsd/dragonflybsd_index.html">8. DragonFlyBSD</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BSDForen.de</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="anwendungen_index.html"><span class="section-number">2. </span>Anwendungen</a> &raquo;</li>
        
      <li><span class="section-number">2.4. </span>csup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/anwendungen/csup.txt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="distcc.txt.html" class="btn btn-neutral float-right" title="2.5. Distcc" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bsdadminscripts.txt.html" class="btn btn-neutral float-left" title="2.3. BSDAdminScripts" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="csup">
<h1><span class="section-number">2.4. </span>csup<a class="headerlink" href="#csup" title="Link zu dieser Überschrift">¶</a></h1>
<div class="sidebar">
<p class="sidebar-title">Info</p>
<img alt="../_images/logo-freebsd.png" src="../_images/logo-freebsd.png" />
</div>
<p>Mit csup kann der Inhalt von CVS Repositories heruntergeladen werden. Csup geht
dabei inkrementell vor, das heißt, es lädt nur die Dateien, die sich vom Inhalt
des Repositories unterscheiden. Der Haupteinsatzzweck von csup ist die FreeBSD
Quelltexte herunterzuladen. Hierbei dient es als Ersatz für <em>cvsup</em>. Der
Vorteil von csup ist, dass es in C geschrieben und Teil des Basissystems ist.
Für CVSup wurde ein eigener Compiler benötigt.</p>
<div class="section" id="supfiles">
<h2><span class="section-number">2.4.1. </span>Supfiles<a class="headerlink" href="#supfiles" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Informationen, welches Repository, was und von wann aus diesem
Repository csup herunterladen soll, erhält es aus einem Supfile. FreeBSD
kommt mit einigen fertigen Supfiles, die in
<strong>/usr/share/examples/cvsup</strong> liegen. Es empfiehlt sich, die gewünschten
Dateien in ein eigenes Verzeichnis unter <strong>/etc</strong> zu kopieren.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># mkdir -p /etc/csup</span>
<span class="c1"># cd /usr/share/examples/cvsup</span>
<span class="c1"># cp stable-supfile ports-supfile doc-supfile /etc/csup</span>
<span class="c1"># cd /etc/csup</span>
</pre></div>
</div>
<p>In diesem Beispiel wurde als Verzeichnis <strong>/etc/csup</strong> gewählt. Der
Autor verwendet dieses Verzeichnis und nicht etwa
<strong>/usr/local/etc/csup</strong>, da csup Teil des Basissystems ist.</p>
</div>
<div class="section" id="server-auswahlen">
<h2><span class="section-number">2.4.2. </span>Server auswählen<a class="headerlink" href="#server-auswahlen" title="Link zu dieser Überschrift">¶</a></h2>
<p>In die Supfiles muss nun noch der FreeBSD Mirror, von dem das Repository
geladen werden soll, eingetragen werden. Alternativ kann der Server csup
auch später über die Kommandozeile übergeben werden. Auf jeden Fall
sollte vorher ein geeigneter Server ermittelt werden. Die wahrscheinlich
beste Variante das zu erledigen ist mit
<a class="reference external" href="fastest_cvsup">fastest_cvsup</a>. Dieses findet sich in den Ports unter
<strong>sysutils/fastest_cvsup</strong>.</p>
<p>Jetzt kann mit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># fastest_cvsup -c de</span>
</pre></div>
</div>
<p>der Server mit der schnellsten Antwortzeit in Deutschland ermittelt
werden. Wer in der Nähe einer Grenze wohnt, kann auch mehrere Länder
angeben:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># fastest_cvsup -c de,fr</span>
</pre></div>
</div>
<p>Am Ende der Ausgabe werden die besten drei Server aufgelistet. Das sieht
von Karlsruhe etwa so aus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span>  <span class="n">Speed</span> <span class="n">Daemons</span><span class="p">:</span>
    <span class="o">-</span> <span class="mi">1</span><span class="n">st</span><span class="p">:</span> <span class="n">cvsup8</span><span class="o">.</span><span class="n">fr</span><span class="o">.</span><span class="n">freebsd</span><span class="o">.</span><span class="n">org</span>
    <span class="o">-</span> <span class="mi">2</span><span class="n">nd</span><span class="p">:</span> <span class="n">cvsup</span><span class="o">.</span><span class="n">de</span><span class="o">.</span><span class="n">freebsd</span><span class="o">.</span><span class="n">org</span>
    <span class="o">-</span> <span class="mi">3</span><span class="n">rd</span><span class="p">:</span> <span class="n">cvsup4</span><span class="o">.</span><span class="n">de</span><span class="o">.</span><span class="n">freebsd</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<p>Für gewöhnlich lohnt es sich, den Befehl mehrmals aufzurufen und dann
einen Server zu nehmen, der oft in der Liste der besten Drei erscheint.</p>
<p>Der gewählte Server kann nun in die Supfiles in <strong>/etc/csup</strong>
eingetragen werden. Alternativ kann das auch später in der
<strong>/etc/make.conf</strong> getan werden.</p>
</div>
<div class="section" id="supfiles-bearbeiten">
<h2><span class="section-number">2.4.3. </span>Supfiles Bearbeiten<a class="headerlink" href="#supfiles-bearbeiten" title="Link zu dieser Überschrift">¶</a></h2>
<p>Am Interessantesten ist für die Meisten wohl der <strong>stable-supfile</strong>.
Angepasst werden sollte zuerst die Zeile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">default</span> <span class="n">host</span><span class="o">=</span><span class="n">CHANGE_THIS</span><span class="o">.</span><span class="n">FreeBSD</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<p>CHANGE_THIS.FreeBSD.org wird dann mit dem zuvor ermittelten Server, beim
Autor cvsup8.fr.freebsd.org, ersetzt.</p>
<p>Wer nicht FreeBSD Stable, sondern einen Security Branch (Release mit
kritischen Updates) verwenden will, kann die Zeile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">default</span> <span class="n">release</span><span class="o">=</span><span class="n">cvs</span> <span class="n">tag</span><span class="o">=</span><span class="n">RELENG_6</span>
</pre></div>
</div>
<p>ändern. Mit dem Ersetzen von RELENG_6 mit RELENG_6_2 können nun
zukünftig die Quellen für FreeBSD 6.2 mit sicherheitskritischen Updates,
statt denen von FreeBSD 6-Stable geladen werden. Ansonsten gibt es in
der Datei nichts was geändert werden sollte.</p>
</div>
<div class="section" id="supfile-testen">
<h2><span class="section-number">2.4.4. </span>Supfile Testen<a class="headerlink" href="#supfile-testen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Um zu prüfen, ob der Supfile funktioniert, reicht ein einfacher Aufruf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># csup /etc/csup/stable-supfile</span>
</pre></div>
</div>
<p>Der Aufruf sollte das Verzeichnis <strong>/usr/src</strong> anlegen oder
aktualisieren.</p>
</div>
<div class="section" id="make-update">
<h2><span class="section-number">2.4.5. </span>make update<a class="headerlink" href="#make-update" title="Link zu dieser Überschrift">¶</a></h2>
<p>Wenn <strong>/usr/src</strong> bereits vorhanden ist, ist es bequemer, die Quellen
einfach mit</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd /usr/src</span>
<span class="c1"># make update</span>
</pre></div>
</div>
<p>auf den neusten Stand zu bringen. Dazu müssen ein paar Einträge in die
<strong>/etc/make.conf</strong> gemacht werden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SUP_UPDATE</span><span class="o">=</span>     <span class="n">yes</span>
<span class="n">SUP</span><span class="o">=</span>            <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">csup</span>
<span class="n">SUPFLAGS</span><span class="o">=</span>       <span class="o">-</span><span class="n">L</span> <span class="mi">2</span> <span class="o">-</span><span class="n">z</span>
<span class="n">SUPHOST</span><span class="o">=</span>        <span class="n">cvsup8</span><span class="o">.</span><span class="n">fr</span><span class="o">.</span><span class="n">freebsd</span><span class="o">.</span><span class="n">org</span>
<span class="n">SUPFILE</span><span class="o">=</span>        <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">csup</span><span class="o">/</span><span class="n">stable</span><span class="o">-</span><span class="n">supfile</span>
<span class="c1">#DOCSUPFILE=        /etc/csup/doc-supfile</span>
</pre></div>
</div>
<p>Die <strong>SUPFLAGS</strong> sind nicht wirklich notwendig. Der Parameter <strong>-L 2</strong>
sorgt für eine detailiertere Ausgabe, der Parameter <strong>-z</strong> erzwingt eine
komprimierte Datenübertragung, selbst wenn die Kompression im Supfile
deaktiviert ist.</p>
<p>Wer <strong>DOCSUPFILE</strong> (im Beispiel auskommentiert) einträgt kann mit make
udpate auch die Quellen der neuesten FreeBSD Dokumentation
herunterladen.</p>
<p>Um auch den Ports Tree auf den neusten Stand zu bringen sind noch die
folgenden zwei Zeilen notwendig:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PORTSSUPFILE</span><span class="o">=</span>       <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">csup</span><span class="o">/</span><span class="n">ports</span><span class="o">-</span><span class="n">supfile</span>
</pre></div>
</div>
<p>In den meisten Anwendungsfällen ist aber für diesen Zweck
<a class="reference external" href="portsnap">portsnap</a> das bessere Mittel.</p>
</div>
<div class="section" id="verweise">
<h2><span class="section-number">2.4.6. </span>Verweise<a class="headerlink" href="#verweise" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li><p>Die <strong>csup(1)</strong> Manpage</p></li>
<li><p>Die <strong>make.conf(5)</strong> Manpage</p></li>
<li><p>Der <a class="reference external" href="portsnap">portsnap</a> Artikel</p></li>
</ul>
<ul class="simple">
<li><p><a class="reference internal" href="../genindex.html"><span class="std std-ref">Stichwortverzeichnis</span></a></p></li>
</ul>
<p>Zuletzt geändert: 2020-10-27</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="distcc.txt.html" class="btn btn-neutral float-right" title="2.5. Distcc" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bsdadminscripts.txt.html" class="btn btn-neutral float-left" title="2.3. BSDAdminScripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, BSDForen.de

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>