

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.5. Distcc &mdash; BSDForen.de 1.0 Dokumentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="2.6. Eclipse" href="eclipse.txt.html" />
    <link rel="prev" title="2.4. csup" href="csup.txt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> BSDForen.de
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../howto/howto_index.html">1. Howto</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="anwendungen_index.html">2. Anwendungen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="anwendungs-liste.txt.html">2.1. Anwendungs-Liste</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmp.txt.html">2.2. BMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="bsdadminscripts.txt.html">2.3. BSDAdminScripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="csup.txt.html">2.4. csup</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.5. Distcc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#einleitung">2.5.1. Einleitung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#einrichtung">2.5.2. Einrichtung</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation-freebsd">2.5.2.1. Installation (FreeBSD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-openbsd">2.5.2.2. Installation (OpenBSD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#client-freebsd">2.5.2.3. Client (FreeBSD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#server-freebsd">2.5.2.4. Server (FreeBSD)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#zusammenarbeit-zwischen-i386-und-amd64">2.5.3. Zusammenarbeit zwischen i386 und amd64</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verweise">2.5.4. Verweise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="eclipse.txt.html">2.6. Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="enlightenment.txt.html">2.7. Enlightenment</a></li>
<li class="toctree-l2"><a class="reference internal" href="firefox.txt.html">2.8. Firefox</a></li>
<li class="toctree-l2"><a class="reference internal" href="fluxbox.txt.html">2.9. Fluxbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="gimp.txt.html">2.10. Gimp</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitit.txt.html">2.11. gitit</a></li>
<li class="toctree-l2"><a class="reference internal" href="gkrellm.txt.html">2.12. GKrellM</a></li>
<li class="toctree-l2"><a class="reference internal" href="idesk.txt.html">2.13. IDesk</a></li>
<li class="toctree-l2"><a class="reference internal" href="inkscape.txt.html">2.14. Inkscape</a></li>
<li class="toctree-l2"><a class="reference internal" href="irssi.txt.html">2.15. Irssi</a></li>
<li class="toctree-l2"><a class="reference internal" href="k3b.txt.html">2.16. K3b</a></li>
<li class="toctree-l2"><a class="reference internal" href="libreoffice.txt.html">2.17. LibreOffice</a></li>
<li class="toctree-l2"><a class="reference internal" href="links.txt.html">2.18. Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpd.txt.html">2.19. Music Player Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpg123.txt.html">2.20. Mpg123</a></li>
<li class="toctree-l2"><a class="reference internal" href="mplayer.txt.html">2.21. mplayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="mutt.txt.html">2.22. Mutt</a></li>
<li class="toctree-l2"><a class="reference internal" href="openoffice.txt.html">2.23. OpenOffice</a></li>
<li class="toctree-l2"><a class="reference internal" href="pkg_cutleaves.txt.html">2.24. pkg_cutleaves</a></li>
<li class="toctree-l2"><a class="reference internal" href="plone.txt.html">2.25. Plone 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="portmaster.txt.html">2.26. Portmaster</a></li>
<li class="toctree-l2"><a class="reference internal" href="portsnap.txt.html">2.27. portsnap</a></li>
<li class="toctree-l2"><a class="reference internal" href="portupgrade.txt.html">2.28. portupgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="qemu.txt.html">2.29. Qemu</a></li>
<li class="toctree-l2"><a class="reference internal" href="rxvt-unicode.txt.html">2.30. RXVT-Unicode</a></li>
<li class="toctree-l2"><a class="reference internal" href="screen.txt.html">2.31. Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcsh.txt.html">2.32. TCSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="texlive.txt.html">2.33. TeX Live</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunar.txt.html">2.34. Thunar</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunderbird.txt.html">2.35. Thunderbird</a></li>
<li class="toctree-l2"><a class="reference internal" href="torsmo.txt.html">2.36. Torsmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="vim.txt.html">2.37. Vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="xfce4.txt.html">2.38. Xfce4</a></li>
<li class="toctree-l2"><a class="reference internal" href="xine.txt.html">2.39. Xine</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdf.txt.html">2.40. Xpdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspread.txt.html">2.41. Xspread</a></li>
<li class="toctree-l2"><a class="reference internal" href="zsh.txt.html">2.42. ZSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/hardware_index.html">3. Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spiele/spiele_index.html">4. Spiele</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freebsd/freebsd_index.html">5. FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openbsd/openbsd_index.html">6. OpenBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netbsd/netbsd_index.html">7. NetBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dragonflybsd/dragonflybsd_index.html">8. DragonFlyBSD</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BSDForen.de</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="anwendungen_index.html"><span class="section-number">2. </span>Anwendungen</a> &raquo;</li>
        
      <li><span class="section-number">2.5. </span>Distcc</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/anwendungen/distcc.txt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="eclipse.txt.html" class="btn btn-neutral float-right" title="2.6. Eclipse" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csup.txt.html" class="btn btn-neutral float-left" title="2.4. csup" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="distcc">
<h1><span class="section-number">2.5. </span>Distcc<a class="headerlink" href="#distcc" title="Link zu dieser Überschrift">¶</a></h1>
<div class="sidebar">
<p class="sidebar-title">Info</p>
<img alt="../_images/logo-freebsd.png" src="../_images/logo-freebsd.png" />
<img alt="../_images/logo-openbsd.png" src="../_images/logo-openbsd.png" />
<img alt="../_images/logo-netbsd.png" src="../_images/logo-netbsd.png" />
<img alt="../_images/logo-dragonflybsd.png" src="../_images/logo-dragonflybsd.png" />
</div>
<p>Das Programm distcc wird dazu verwendet, die Rechenlast beim Kompilieren
von C und C++ Programmen auf mehrere Rechner in einem Netz zu verteilen.</p>
<div class="section" id="einleitung">
<h2><span class="section-number">2.5.1. </span>Einleitung<a class="headerlink" href="#einleitung" title="Link zu dieser Überschrift">¶</a></h2>
<p><a class="align-right reference internal" href="../_images/distcc.png"><img alt="Distcc in einem 2 Rechner Netz beim Bauen eines FreeBSD Ports." class="align-right" src="../_images/distcc.png" style="width: 180px;" /></a> Die
Software besteht aus einer
<a class="reference external" href="https://de.wikipedia.org/wiki/Client">Client</a>- und einer
<a class="reference external" href="https://de.wikipedia.org/wiki/Server">Server</a>-Komponente. Die Server
Komponente ist ein <a class="reference external" href="https://de.wikipedia.org/wiki/Daemon">Daemon</a>,
der im Hintergrund auf Arbeit wartet. Da es bis auf IP-Adressen
keinerlei Authentifizierung gibt, sollte der Dienst nur in
vertrauenswürdigen Netzen oder über ein
<a class="reference external" href="https://de.wikipedia.org/wiki/Virtual_Private_Network">VPN</a>
erreichbar sein.</p>
</div>
<div class="section" id="einrichtung">
<h2><span class="section-number">2.5.2. </span>Einrichtung<a class="headerlink" href="#einrichtung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Zur Einrichtung ist außer der Installation auch das Anlegen einer Liste
erreichbarer Server bzw. das Einrichten des Daemon erforderlich.</p>
<div class="section" id="installation-freebsd">
<h3><span class="section-number">2.5.2.1. </span>Installation (FreeBSD)<a class="headerlink" href="#installation-freebsd" title="Link zu dieser Überschrift">¶</a></h3>
<p>Der distcc findet sich in den FreeBSD Ports unter
<a class="reference external" href="https://www.google.com/search?q=devel/distcc&amp;btnI=lucky">devel/distcc</a>.</p>
</div>
<div class="section" id="installation-openbsd">
<h3><span class="section-number">2.5.2.2. </span>Installation (OpenBSD)<a class="headerlink" href="#installation-openbsd" title="Link zu dieser Überschrift">¶</a></h3>
<p>Da sich der distcc nicht im offiziellen Ports-Tree befindet, muss er
hier entweder per Hand oder durch den <a class="reference external" href="http://www.ajd.net.au/ports/">inoffiziellen
Port</a> installiert werden. Letzteres ist
der bevorzugte Weg (sauberer).</p>
</div>
<div class="section" id="client-freebsd">
<h3><span class="section-number">2.5.2.3. </span>Client (FreeBSD)<a class="headerlink" href="#client-freebsd" title="Link zu dieser Überschrift">¶</a></h3>
<p>Um FreeBSD als Client einzusetzen, muss das Verzeichnis
/usr/local/etc/distcc angelegt werden. In das Verzeichnis gehört eine
Datei namens hosts, die einfach die Hostnamen oder IP-Adressen
errichbarer Server enthält.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># mkdir -p /usr/local/etc/distcc</span>
<span class="c1"># echo &quot;localhost 10.0.0.11   otherHost&quot; &gt; /usr/local/etc/distcc/hosts</span>
</pre></div>
</div>
<p>Die Adressen <strong>10.0.0.1</strong> und <strong>otherHost</strong> sind natürlich nur
Beispiele, die durch passende Einträge ersetzt werden müssen.</p>
<p>Als nächstes müssen die Variablen CC und CXX in der Datei /etc/make.conf
entsprechend gesetzt werden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CC</span><span class="o">=</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">distcc</span> <span class="n">cc</span>
<span class="n">CXX</span><span class="o">=</span>    <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">distcc</span> <span class="n">c</span><span class="o">++</span>
</pre></div>
</div>
<p>Die absolute Pfadangabe ist wichtig für den Bau von Welt und Kernel.</p>
<p>Um von der Verwendung des distcc zu profitieren, muss
<a class="reference external" href="https://de.wikipedia.org/wiki/make">make</a> mit dem Parameter ‚-j N‘
gestartet werden, wobei N für die Zahl der parallel laufenden Jobs
steht. Die distcc Dokumentation empfielt als Wert die Zahl der CPUs
(oder Kerne) multipliziert mit 2. Wenn ein Rechner nur wenig
Arbeitsspeicher hat, kann es aber auch Sinn machen, nur die Zahl der
möglichen CPUs zu verwenden.</p>
<p>Die Verwendung mit den FreeBSD Ports ist kompliziert, da ‚-j‘ nicht
unterstützt wird. Diese Einschränkung kann man weitestgehend mit
<a class="reference external" href="Bsdadminscripts#buildflags">buildflags</a> umgehen, das es erlaubt, die
Verwendung des distcc für einzelne Ports zu aktivieren oder zu
unterbinden.</p>
<p>Beim Bau von Welt oder Kernel entstehen keine Probleme.</p>
</div>
<div class="section" id="server-freebsd">
<h3><span class="section-number">2.5.2.4. </span>Server (FreeBSD)<a class="headerlink" href="#server-freebsd" title="Link zu dieser Überschrift">¶</a></h3>
<p>Um den distcc Daemon zu verwenden, muss distccd_flags in der
/etc/rc.conf gesetzt werden, da der Daemon sonst aus Sicherheitsgründen
nur auf Anfragen von localhost wartet. Um den Daemon automatisch beim
Booten zu starten, muss außerdem distccd_enable auf ‚YES‘ gesetzt
werden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">distccd_enable</span><span class="o">=</span><span class="s2">&quot;YES&quot;</span>
<span class="n">distccd_flags</span><span class="o">=</span><span class="s2">&quot;-a 127.0.0.0/8 --listen 127.0.0.1 -a 192.168.0.0/16 --listen 192.168.1.12 --user distcc --daemon -P /var/run/distccd.pid&quot;</span>
</pre></div>
</div>
<p>Im Beispiel hört der Daemon auf Anfragen an localhost (127.0.0.1) und an
der IP 192.168.1.12. Aufträge werden von allen Rechnern, deren IP mit
127 oder 192.168 beginnt, angenommen.</p>
<p>Um den distcc Daemon ohne Neustart zu starten, kann der Befehl</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># /usr/local/etc/rc.d/distccd start</span>
</pre></div>
</div>
<p>verwendet werden. Wer auf den automatischen Start beim Booten verzichten
will und deshalb distccd_enable nicht setzt, kann den Daemon mit dem
Befehl</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># /usr/local/etc/rc.d/distccd onestart</span>
</pre></div>
</div>
<p>aktivieren.</p>
</div>
</div>
<div class="section" id="zusammenarbeit-zwischen-i386-und-amd64">
<h2><span class="section-number">2.5.3. </span>Zusammenarbeit zwischen i386 und amd64<a class="headerlink" href="#zusammenarbeit-zwischen-i386-und-amd64" title="Link zu dieser Überschrift">¶</a></h2>
<p>Um Rechenzeit in einen Verbund aus einer i386/amd64 Mischung zu
verteilen müssen die Compiler erfahren für welche Architektur sie
compilieren sollen. Diese Information gehört in die CFLAGS der distcc
Clients.</p>
<p>Die folgenden Zeilen in der Datei <code class="docutils literal notranslate"><span class="pre">/etc/make.conf</span></code> unter FreeBSD
bewerkstelligen das für einen i386-Client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.if ${.CURDIR:M/usr/ports/*}
CFLAGS+=  -m32
.endif
</pre></div>
</div>
<p>Für einen amd64-Client heißt der Parameter schlicht <strong>-m64</strong>. Eine
Lösung zum Bauen von Welt und Kernel wurde vom Autor noch nicht
getestet.</p>
</div>
<div class="section" id="verweise">
<h2><span class="section-number">2.5.4. </span>Verweise<a class="headerlink" href="#verweise" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://distcc.samba.org">http://distcc.samba.org</a> die distcc Homepage.</p></li>
<li><p><a class="reference external" href="https://www.google.com/search?q=devel/distcc&amp;btnI=lucky">devel/distcc</a>
in den FreeBSD Ports.</p></li>
<li><p><a class="reference external" href="https://www.google.com/search?q=devel/distcc&amp;btnI=lucky">devel/distcc</a>
in Pkgsrc.</p></li>
</ul>
<ul class="simple">
<li><p><a class="reference internal" href="../genindex.html"><span class="std std-ref">Stichwortverzeichnis</span></a></p></li>
</ul>
<p>Zuletzt geändert: 2020-11-23</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="eclipse.txt.html" class="btn btn-neutral float-right" title="2.6. Eclipse" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csup.txt.html" class="btn btn-neutral float-left" title="2.4. csup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, BSDForen.de

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>